# Base Config for {{ device_name }}

hostname {{ device_name }}
enable secret {{ enable_secret }}
username {{ username }} secret {{ user_secret}}
banner motd ^{{ banner_message }}^

ip domain-name {{ domain_name }}
no ip domain-lookup

{% for vlan in vlan %}
interface vlan{{vlan.id}}
    ip address {{ vlan.ip }} {{ vlan.submet_mask }}
    ip helper-address {{ vlan.dhcp_server }}
    no shutdown
{% endfor %}

{% for interface in interfaces %}
interface {{ interface.name }}
    {% if interface.type == 'trunk' %}
    switchport trunk encapsulation dot1q
    switchport mode trunk
    switchport trunk native vlan {{ interface.native_vlan }}
    {% elif interface.type == 'access' %}
    switchport access vlan {{ interface.vlan }}
    switchport mode access
    {% endif %}
    no shutdown
{% endfor %}
{% endif %}

{% if ospf_enabled %}
router ospf {{ ospf_proces_id }}
    router-id {{ ospf_router_id }}
    log-adjacency-changes
    {% for network in ospf_networks %}
    network {{ network.ip }} {{ network.mask }} area {{ network.area }}
    {% endfor %}
{% endif %}



